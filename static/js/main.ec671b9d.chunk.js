(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{43:function(t,a,e){},44:function(t,a,e){},45:function(t,a,e){},49:function(t,a,e){},76:function(t,a,e){},77:function(t,a,e){},78:function(t,a,e){},79:function(t,a,e){},80:function(t,a,e){},81:function(t,a,e){},82:function(t,a,e){"use strict";e.r(a);var c=e(1),i=e.n(c),s=e(20),n=e.n(s),o=(e(43),e(22)),r=(e(44),e(5)),l=e(3),d=(e(45),e(4)),m=(e(49),e(0)),p=function(t){var a=t.imageUrl,e=t.name,c=t.price,i=t.description,s=t.productId;return console.log("Product: ",e," ",c,"ID: ",s),Object(m.jsxs)("div",{className:"product",children:[Object(m.jsx)("img",{src:a,alt:e}),Object(m.jsxs)("div",{className:"product__info",children:[Object(m.jsx)("p",{className:"info__name",children:e}),Object(m.jsxs)("p",{className:" info__description",children:[i.substring(0,100),"..."]}),Object(m.jsxs)("p",{className:"info__price",children:["$",c]}),Object(m.jsx)(r.b,{to:"/product/".concat(s),className:"info__button",children:" View "})]})]})},u=e(12),f=e(18),b="GET_PRODUCTS_REQUEST",h="GET_PRODUCTS_SUCCESS",j="GET_PRODUCTS_FAIL",g="GET_PRODUCT_DETAILS_REQUEST",x="GET_PRODUCT_DETAILS_SUCCESS",O="GET_PRODUCT_DETAILS_FAIL",v="GET_PRODUCT_DETAILS_RESET",w=(e(27),[{name:"Amazon Alexa #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:50,countInStock:25,_id:"61454d12efcf036871b3aa9b",imageUrl:"https://images.unsplash.com/photo-1417325384643-aac51acc9e5d?q=75&fm=jpg"},{name:"Audio Technica Headphones #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:233,countInStock:4,_id:"61454d12efcf036871b3aa9c",imageUrl:"https://images.unsplash.com/photo-1558756520-22cfe5d382ca?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"},{name:"Cannon EOS-1D #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:1300,countInStock:5,_id:"61454d12efcf036871b3aa9a",imageUrl:"https://images.unsplash.com/photo-1519183071298-a2962feb14f4?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"},{name:"Iphone 12 #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:1099,countInStock:10,_id:"61454d12efcf036871b3aa99",imageUrl:"https://images.unsplash.com/photo-1605787020600-b9ebd5df1d07?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1463&q=80"},{name:"JBL FLIP 4 #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:140,countInStock:10,_id:"61454d12efcf036871b3aa9d",imageUrl:"https://images.unsplash.com/photo-1564424224827-cd24b8915874?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1489&q=80"},{name:"PlayStation 5 #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:499,countInStock:15,_id:"61454d12efcf036871b3aa98",imageUrl:"https://images.unsplash.com/photo-1606813907291-d86efa9b94db?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80"}]),y=[{name:"Amazon Alexa #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:50,countInStock:25,_id:"61454d12efcf036871b3aa9b",imageUrl:"https://images.unsplash.com/photo-1417325384643-aac51acc9e5d?q=75&fm=jpg"},{name:"Audio Technica Headphones #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:233,countInStock:4,_id:"61454d12efcf036871b3aa9c",imageUrl:"https://images.unsplash.com/photo-1558756520-22cfe5d382ca?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"},{name:"Cannon EOS-1D #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:1300,countInStock:5,_id:"61454d12efcf036871b3aa9a",imageUrl:"https://images.unsplash.com/photo-1519183071298-a2962feb14f4?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"},{name:"Iphone 12 #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:1099,countInStock:10,_id:"61454d12efcf036871b3aa99",imageUrl:"https://images.unsplash.com/photo-1605787020600-b9ebd5df1d07?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1463&q=80"},{name:"JBL FLIP 4 #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:140,countInStock:10,_id:"61454d12efcf036871b3aa9d",imageUrl:"https://images.unsplash.com/photo-1564424224827-cd24b8915874?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1489&q=80"},{name:"PlayStation 5 #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:499,countInStock:15,_id:"61454d12efcf036871b3aa98",imageUrl:"https://images.unsplash.com/photo-1606813907291-d86efa9b94db?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80"}],_=function(){var t=Object(d.b)(),a=Object(d.c)((function(t){return t.getProducts})),e=a.products,i=a.loading,s=a.error;console.log("Home Screen products ",e),console.log("Testing Product",e[3]);var n=y.find((function(t){return"61454d12efcf036871b3aa9d"===t._id}));return console.log("data: ",n),Object(c.useEffect)((function(){t(function(){var t=Object(f.a)(Object(u.a)().mark((function t(a){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:b}),a({type:h,payload:w})}catch(s){a({type:j,payload:s.response&&s.response.data.message?s.response.data.message:s.message})}case 1:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}())}),[t]),Object(m.jsxs)("div",{className:"homescreen",children:[Object(m.jsx)("h2",{className:"homescreen__title",children:" Latest Products"}),Object(m.jsx)("div",{className:"homescreen__products",children:i?Object(m.jsx)("h2",{children:"Loading..."}):s?Object(m.jsx)("h2",{children:s}):e.map((function(t){return Object(m.jsx)(p,{productId:t._id,name:t.name,price:t.price,description:t.description,imageUrl:t.imageUrl},t._id)}))})]})},k=e(14),S=(e(76),"ADD_TO_CART"),I="REMOVE_FROM_CART",D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case b:return{loading:!0,products:[]};case h:return{loading:!1,products:a.payload};case j:return{loading:!1,error:a.payload};default:return t}},A=[{name:"Amazon Alexa #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:50,countInStock:25,_id:"61454d12efcf036871b3aa9b",imageUrl:"https://images.unsplash.com/photo-1417325384643-aac51acc9e5d?q=75&fm=jpg"},{name:"Audio Technica Headphones #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:233,countInStock:4,_id:"61454d12efcf036871b3aa9c",imageUrl:"https://images.unsplash.com/photo-1558756520-22cfe5d382ca?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"},{name:"Cannon EOS-1D #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:1300,countInStock:5,_id:"61454d12efcf036871b3aa9a",imageUrl:"https://images.unsplash.com/photo-1519183071298-a2962feb14f4?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"},{name:"Iphone 12 #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:1099,countInStock:10,_id:"61454d12efcf036871b3aa99",imageUrl:"https://images.unsplash.com/photo-1605787020600-b9ebd5df1d07?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1463&q=80"},{name:"JBL FLIP 4 #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:140,countInStock:10,_id:"61454d12efcf036871b3aa9d",imageUrl:"https://images.unsplash.com/photo-1564424224827-cd24b8915874?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1489&q=80"},{name:"PlayStation 5 #Static",description:"It is capable of voice interaction, music playback, making to-do lists, setting alarms, streaming podcasts, playing audiobooks, and providing weather, traffic, sports, and other real-time information, such as news. Alexa can also control several smart devices using itself as a home automation system.",price:499,countInStock:15,_id:"61454d12efcf036871b3aa98",imageUrl:"https://images.unsplash.com/photo-1606813907291-d86efa9b94db?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80"}],H=function(t,a){return function(){var e=Object(f.a)(Object(u.a)().mark((function e(c,i){var s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=A.find((function(a){return a._id===t})),c({type:S,payload:{product:s._id,name:s.name,imageUrl:s.imageUrl,price:s.price,countInStock:s.countInStock,qty:a}}),localStorage.setItem("cart",JSON.stringify(i().cart.cartItems));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},M=function(t){var a=t.match,e=t.history;console.log("match: ",a.params);var i=Object(c.useState)(1),s=Object(o.a)(i,2),n=s[0],r=s[1],l=Object(d.b)(),p=Object(d.c)((function(t){return t.getProductDetails})),b=p.loading,h=p.error,j=p.product;console.log("product: ",j),console.log("product details: ",p),Object(c.useEffect)((function(){var t;console.log("match params ",a.params),j&&a.params.id!==j._id&&(console.log("dispatching updated product"),l((t=a.params.id,function(){var a=Object(f.a)(Object(u.a)().mark((function a(e){var c;return Object(u.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{e({type:g}),c=w.find((function(a){return a._id===t})),console.log("id: ",t,"data: ",c),e({type:x,payload:c})}catch(h){e({type:O,payload:h.response&&h.response.data.message?h.response.data.message:h.message})}case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())))}),[l,j,a]);return Object(m.jsx)("div",{className:"productscreen",children:b?Object(m.jsx)("h2",{children:"Loading..."}):h?Object(m.jsx)("h2",{children:h}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"productscreen__left",children:[Object(m.jsx)("div",{className:"left__image",children:Object(m.jsx)("img",{src:j.imageUrl,alt:"product name"})}),Object(m.jsxs)("div",{className:"left__info",children:[Object(m.jsx)("p",{className:"left__name",children:j.name}),Object(m.jsxs)("p",{children:["Price: $",j.price]}),Object(m.jsxs)("p",{children:["Description: $",j.description]})]})]}),Object(m.jsx)("div",{className:"productscreen__right",children:Object(m.jsxs)("div",{className:"right__info",children:[Object(m.jsxs)("p",{children:["Price: ",Object(m.jsxs)("span",{children:["$",j.price]})]}),Object(m.jsxs)("p",{children:["Status: ",Object(m.jsx)("span",{children:j.countInStock>0?"In Stock":"Out of Stock"})]}),Object(m.jsxs)("p",{children:["Qty",Object(m.jsx)("select",{value:n,onChange:function(t){return r(t.target.value)},children:Object(k.a)(Array(j.countInStock).keys()).map((function(t){return Object(m.jsx)("option",{value:t+1,children:t+1},t+1)}))})]}),Object(m.jsx)("p",{children:Object(m.jsx)("button",{type:"button",onClick:function(){console.log("product id",j._id),console.log("qty ",n),l(H(j._id,n)),e.push("/cart")},children:"Add to Cart"})})]})})]})})},N=(e(77),e(78),function(t){var a=t.item,e=t.qtyChangeHandler,c=t.removeHandler;return Object(m.jsxs)("div",{className:"cartitem",children:[Object(m.jsx)("div",{className:"cartitem__image",children:Object(m.jsx)("img",{src:a.imageUrl,alt:a.name})}),Object(m.jsx)(r.b,{to:"product/".concat(a.product),className:"cartitem__name",children:Object(m.jsx)("p",{children:a.name})}),Object(m.jsxs)("p",{className:"cartitem__price",children:["$",a.price]}),Object(m.jsx)("select",{className:"cartitem__select",value:a.qty,onChange:function(t){return e(a.product,t.target.value)},children:Object(k.a)(Array(a.countInStock).keys()).map((function(t){return Object(m.jsx)("option",{value:t+1,children:t+1},t+1)}))}),Object(m.jsx)("button",{className:"cartitem__deleteBtn",onClick:function(){return c(a.product)},children:Object(m.jsx)("i",{className:"fas fa-trash"})})]})}),B=function(){var t=Object(d.b)(),a=Object(d.c)((function(t){return t.cart})).cartItems,e=function(a,e){t(H(a,e))},c=function(a){t(function(t){return function(a,e){a({type:I,payload:t}),localStorage.setItem("cart",JSON.stringify(e().cart.cartItems))}}(a))};return Object(m.jsxs)("div",{className:"cartscreen",children:[Object(m.jsxs)("div",{className:"cartscreen__left",children:[Object(m.jsx)("h2",{children:"Shopping cart"}),0===a.length?Object(m.jsxs)("div",{children:["Your cart is empty ",Object(m.jsx)(r.b,{to:"/",children:" Go Back"})]}):a.map((function(t){return Object(m.jsx)(N,{item:t,qtyChangeHandler:e,removeHandler:c},t.product)}))]}),Object(m.jsxs)("div",{className:"cartscreen__right",children:[Object(m.jsxs)("div",{className:"cartscreen__info",children:[Object(m.jsxs)("p",{children:["Subtotal (",a.reduce((function(t,a){return Number(a.qty)+t}),0),") items"]}),Object(m.jsxs)("p",{children:["$",a.reduce((function(t,a){return a.price*a.qty+t}),0).toFixed(2)]})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{children:"Proceed to Checkout"})})]})]})},G=(e(79),function(t){var a=t.click,e=Object(d.c)((function(t){return t.cart})).cartItems;return Object(m.jsxs)("nav",{className:"navbar",children:[Object(m.jsx)("div",{className:"navbar__logo",children:Object(m.jsx)("h2",{children:" Juice Bar Shopping Cart"})}),Object(m.jsxs)("ul",{className:"navbar__links",children:[Object(m.jsx)("li",{children:Object(m.jsxs)(r.b,{to:"/cart",className:"cart__link",children:[Object(m.jsx)("i",{className:"fas fa-shopping-cart",children:"  "}),Object(m.jsxs)("span",{children:["Cart",Object(m.jsx)("span",{className:"cartlogo_badge",children:e.reduce((function(t,a){return t+Number(a.qty)}),0)})]})]})}),Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/",children:"Shop"})})]}),Object(m.jsxs)("div",{className:"hamburger__menu",onClick:a,children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})]})}),U=(e(80),function(t){var a=t.show,e=t.click;return a&&Object(m.jsx)("div",{className:"backdrop",onClick:e})}),C=(e(81),function(t){var a=t.show,e=t.click,c=["sidedrawer"];a&&c.push("show");var i=Object(d.c)((function(t){return t.cart})).cartItems;return Object(m.jsx)("div",{className:c.join(" "),children:Object(m.jsxs)("ul",{className:"sidedrawer__links",onClick:e,children:[Object(m.jsx)("li",{children:Object(m.jsxs)(r.b,{to:"/cart",children:[Object(m.jsx)("i",{className:"fas fa-shopping-cart"}),Object(m.jsxs)("span",{children:["Cart",Object(m.jsx)("span",{className:"sidedrawer__cartbadge",children:i.reduce((function(t,a){return t+Number(a.qty)}),0)})]})]})}),Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/",children:"Shop"})})]})})});var T=function(){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),e=a[0],i=a[1];return Object(m.jsxs)(r.a,{basename:"/juiceshop-frontend",children:[Object(m.jsx)(G,{click:function(){return i(!0)}}),Object(m.jsx)(C,{show:e,click:function(){return i(!1)}}),Object(m.jsx)(U,{show:e,click:function(){return i(!1)}}),Object(m.jsx)("main",{children:Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",component:_}),Object(m.jsx)(l.a,{exact:!0,path:"/product/:id",component:M}),Object(m.jsx)(l.a,{exact:!0,path:"/cart",component:B})]})})]})},q=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,83)).then((function(a){var e=a.getCLS,c=a.getFID,i=a.getFCP,s=a.getLCP,n=a.getTTFB;e(t),c(t),i(t),s(t),n(t)}))},E=e(19),P=e(38),L=e(37),V=e(11),W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case S:var e=a.payload,c=t.cartItems.find((function(t){return t.product===e.product}));return c?Object(V.a)(Object(V.a)({},t),{},{cartItems:t.cartItems.map((function(t){return t.product===c.product?e:t}))}):Object(V.a)(Object(V.a)({},t),{},{cartItems:[].concat(Object(k.a)(t.cartItems),[e])});case I:return Object(V.a)(Object(V.a)({},t),{},{cartItems:t.cartItems.filter((function(t){return t.product!==a.payload}))});default:return t}},Y=Object(E.combineReducers)({cart:W,getProducts:D,getProductDetails:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case g:return{loading:!0,product:{}};case x:return{loading:!1,product:a.payload};case O:return{loading:!1,error:a.payload};case v:return{product:[]};default:return t}}}),R=[P.a],X=(localStorage.getItem("cart")&&JSON.parse(localStorage.getItem("cart")),Object(E.createStore)(Y,{cart:{cartItems:[]}},Object(L.composeWithDevTools)(E.applyMiddleware.apply(void 0,R))));n.a.render(Object(m.jsx)(d.a,{store:X,children:Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(T,{})})}),document.getElementById("root")),q()}},[[82,1,2]]]);
//# sourceMappingURL=main.ec671b9d.chunk.js.map